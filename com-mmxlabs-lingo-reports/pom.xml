<?xml version="1.0" encoding="UTF-8"?>
<project
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"
	xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<modelVersion>4.0.0</modelVersion>
	<groupId>com.mmxlabs.shiplingo</groupId>
	<artifactId>com.mmxlabs.shiplingo.demo</artifactId>
	<version>0.0.1-SNAPSHOT</version>
	<packaging>pom</packaging>

	<parent>
		<groupId>com.mmxlabs.parent</groupId>
		<artifactId>tycho-parent</artifactId>
		<version>5</version>
		<relativePath />
	</parent>

	<scm>
		<connection>scm:hg:ssh://hg@codebasehq.com/mmxlabs/repositories/com-mmxlabs-shiplingo-demo.hg</connection>
		<developerConnection>scm:hg:ssh://hg@codebasehq.com/mmxlabs/repositories/com-mmxlabs-shiplingo-demo.hg</developerConnection>
		<url>https://mmxlabs.codebasehq.com/repositories/com-mmxlabs-shiplingo-demo</url>
	</scm>

	<ciManagement>
		<system>Jenkins</system>
		<url>https://server1.mmxlabs.com/jenkins/job/com.mmxlabs.shiplingo.demo/</url>
	</ciManagement>

	<modules>
		<!-- Platform target file - disabled as we use the repositories section 
			below to allow local mirrors of p2 repositories -->
		<!-- <module>target-definition</module> -->

		<!-- Product file project -->
		<module>com.mmxlabs.demo.product</module>

		<!-- Features -->
		<module>com.mmxlabs.demo.feature</module>
		<module>com.mmxlabs.platform.feature</module>

		<!-- Proper plugin projects -->
		<module>com.mmxlabs.demo.app</module>
		<module>com.mmxlabs.lngscheduler.emf</module>
		<module>com.mmxlabs.lngscheduler.emf-extras</module>
		<module>com.mmxlabs.lngscheduler.emf-extras.tests</module>
		<module>com.mmxlabs.lngscheduler.emf.edit</module>
		<module>com.mmxlabs.lngscheduler.emf.editor</module>
		<module>com.mmxlabs.lngscheduler.ui</module>

		<module>com.mmxlabs.demo.reports</module>
		<module>com.mmxlabs.scheduleview</module>
		<module>com.mmxlabs.rcp.navigator</module>
		<module>com.mmxlabs.shiplingo.ui.detailview</module>
		<module>com.mmxlabs.shiplingo.importer</module>

		<!-- Documentation -->
		<module>com.mmxlabs.demo.doc</module>

		<!-- Test Plugins -->
		<module>com.mmxlabs.scheduler.its</module>
	</modules>

	<build>
		<!-- Required for some tycho workaround - may no longer be needed -->
		<sourceDirectory>src</sourceDirectory>

		<plugins>

			<plugin>
				<groupId>org.eclipse.tycho</groupId>
				<artifactId>tycho-maven-plugin</artifactId>
				<!-- Enable tycho packaging types -->
				<extensions>true</extensions>
			</plugin>

			<plugin>
				<groupId>org.eclipse.tycho</groupId>
				<artifactId>target-platform-configuration</artifactId>
				<configuration>

					<environments>

						<environment>
							<os>linux</os>
							<ws>gtk</ws>
							<arch>x86_64</arch>
						</environment>
						<environment>
							<os>linux</os>
							<ws>gtk</ws>
							<arch>x86</arch>
						</environment>
						<environment>
							<os>win32</os>
							<ws>win32</ws>
							<arch>x86</arch>
						</environment>
						<environment>
							<os>win32</os>
							<ws>win32</ws>
							<arch>x86_64</arch>
						</environment>
						<environment>
							<os>macosx</os>
							<ws>cocoa</ws>
							<arch>x86</arch>
						</environment>
						<environment>
							<os>macosx</os>
							<ws>cocoa</ws>
							<arch>x86_64</arch>
						</environment>
					</environments>
				</configuration>
			</plugin>

		</plugins>
	</build>


	<repositories>

		<!-- We use repositories defined here rather than the platform target to 
			allow local mirrors to be specified in settings.xml -->

		<repository>
			<id>indigo</id>
			<url>http://download.eclipse.org/releases/indigo</url>
			<layout>p2</layout>
		</repository>

		<repository>
			<id>eclipse-3.7</id>
			<url>http://download.eclipse.org/eclipse/updates/3.7</url>
			<layout>p2</layout>
		</repository>

		<repository>
			<id>swtbot</id>
			<url>http://download.eclipse.org/technology/swtbot/helios/dev-build/update-site</url>
			<layout>p2</layout>
		</repository>

		<repository>
			<id>edapt-updates</id>
			<url>http://download.eclipse.org/edapt/update-site/</url>
			<layout>p2</layout>
		</repository>

		<repository>
			<id>nebula-main-snapshots</id>
			<url>http://download.eclipse.org/technology/nebula/snapshot</url>
			<layout>p2</layout>
		</repository>

		<repository>
			<id>mmxlabs-p2-snapshots</id>
			<url>https://s3-proxy.appspot.com/mmxlabs-p2-repos/repositories/mmxlabs-p2-snapshots/</url>
			<layout>p2</layout>
		</repository>

		<repository>
			<id>mmxlabs-p2-external</id>
			<url>https://s3-proxy.appspot.com/mmxlabs-p2-repos/repositories/mmxlabs-p2-external/</url>
			<layout>p2</layout>
		</repository>
	</repositories>
</project>
